{% load static %}
{% load l10n %}

<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dev.finance$</title>

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,400;1,100;1,300;1,700&display=swap" rel="stylesheet">
  </head>

<body>
    <header>
            <div class="modal">
                <div id="form">
                <h2>Editar Transação</h2>
                <form action="{% url 'atualiza_transacao' %}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="text" id="transacao_id" class="form-control" name="transacao_id" value="{{transacao.id}}" hidden>
                    <div class="input-group">
                    <label 
                        class="sr-only" for="description">Descrição</label>
                    <input 
                        type="text" 
                        id="description" 
                        name="description"
                        placeholder="Descrição"
                        value="{{transacao.nome_transacao}}"
                    />
                    </div>

                    <div class="input-group">
                    <label 
                        class="sr-only" 
                        for="amount">Valor</label>
                    <input 
                        type="number" 
                        step = '0.00'
                        name="amount"
                        placeholder="0,00"
                        value="{{transacao.valor_transacao|unlocalize}}"
                    />
                    <small class="help">Use o sinal -(negativo) para despesas e, (vírgula) para casas decimais</small>
                    </div>

                    <div class="input-group">
                    <label 
                        class="sr-only" 
                        for="date">Data</label>
                    <input 
                        type="date" 
                        id="date" 
                        name="date"
                        value="{{transacao.data_transacao|date:'Y-m-d'}}"
                    />
                    </div>

                    {% if transacao.tipo_transacao == 'entrada' %}
                        <div class="input-group">
                            <input type="radio" name="opcao" value="entrada" checked/> Entrada
                            </label>
                        </div>
                        <div class="input-group">
                            <input type="radio" name="opcao" value="saida" /> Saida
                            </label>
                        </div>
                    {% else %}
                        <div class="input-group">
                            <input type="radio" name="opcao" value="entrada" /> Entrada
                            </label>
                        </div>
                        <div class="input-group">
                            <input type="radio" name="opcao" value="saida" checked/> Saida
                            </label>
                        </div>
                    {% endif %}
                    <div class="input-group actions">
                    <a 
                    href="{% url 'index' %}" class="button cancel">Cancelar</a>
                    <button>Salvar</button>
                    </div>
                
                </form>
                </div>
            </div>
    </header>
</body>